# Configuration for golangci-lint
version: "2"

run:
  timeout: 5m

linters:
  default: none
  enable:
    - govet         # Reports suspicious constructs
    - errcheck      # Checks for unhandled errors
    - staticcheck   # A huge set of static analysis checks
    - unused        # Checks for unused code
    - ineffassign   # Checks for ineffectual assignments
    - revive        # Fast, configurable, modern replacement for golint
    - gocritic      # Provides checks for common errors and style issues
    - unconvert     # Checks for unnecessary type conversions
    - misspell      # Corrects common misspellings in comments
    - testifylint
    - cyclop
  
  settings: 
     cyclop:
      max-complexity: 30
      package-average: 10.0
  
  exclusions:
    rules:
      - text: 'should have a package comment'
        linters: [ revive ]
      - text: 'exported \S+ \S+ should have comment( \(or a comment on this block\))? or be unexported'
        linters: [ revive ]
      - path: '_test\.go'
        linters:
          - errcheck



formatters:
  enable:
   - goimports
   - golines
  
  settings:
    goimports:
      local-prefixes: 
        - github.com/nicopolazzi/collector

    golines:
      max-len: 120

